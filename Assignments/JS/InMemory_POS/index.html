<!DOCTYPE html>
<html>

<head>
  <title>Thogakade Management System</title>
  <link rel="stylesheet" href="bootstraps/css/bootstrap.css">
  <style>
    .container {
      margin-top: 20px;
    }

    .nav-link {
      cursor: pointer;
    }
  </style>
</head>

<body>
<nav class="navbar navbar-expand-lg navbar-dark bg-primary">
  <div class="container">
    <a class="navbar-brand" href="#">Thogakade</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
            aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link active" onclick="showPage('home')">Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" onclick="showPage('customer')">Customer</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" onclick="showPage('item')">Item</a>
        </li>
      </ul>
    </div>
  </div>
</nav>

<div id="content"></div>

<script src="jq.js"></script>
<script>
  const mainArray = {
    customers: [],
    items: []
  };

  function showPage(page) {
    const contentDiv = document.getElementById('content');
    switch (page) {
      case 'home':
        contentDiv.innerHTML = pages.home;
        break;
      case 'customer':
        contentDiv.innerHTML = pages.customer;
        loadCustomerData();
        break;
      case 'item':
        contentDiv.innerHTML = pages.item;
        loadItemData();
        break;
    }
  }

  function loadCustomerData() {
    const tblBody = document.getElementById('tblCustomers');
    tblBody.innerHTML = '';
    mainArray.customers.forEach(function (customer) {
      const row = document.createElement('tr');
      row.innerHTML = `
          <td>${customer.customerId}</td>
          <td>${customer.customerName}</td>
          <td>${customer.customerAddress}</td>
          <td>${customer.customerContact}</td>
          <td>${customer.customerSalary}</td>
          <td>
            <button class="btn btn-sm btn-danger" onclick="deleteCustomer(${customer.customerId})">Delete</button>
            <button class="btn btn-sm btn-info" onclick="editCustomer(${customer.customerId})">Edit</button>
          </td>
        `;
      tblBody.appendChild(row);
    });
  }

  function addCustomer() {
    const customerId = document.getElementById('exampleInputCustomerId').value;
    const customerName = document.getElementById('exampleInputCustomerName').value;
    const customerAddress = document.getElementById('exampleInputCustomerAddress').value;
    const customerContact = document.getElementById('exampleInputCustomerContact').value;
    const customerSalary = document.getElementById('exampleInputCustomerSalary').value;

    const customer = {
      customerId,
      customerName,
      customerAddress,
      customerContact,
      customerSalary
    };

    mainArray.customers.push(customer);
    loadCustomerData();
    resetCustomerForm();
  }

  function deleteCustomer(customerId) {
    const index = mainArray.customers.findIndex(function (customer) {
      return customer.customerId == customerId;
    });

    if (index !== -1) {
      mainArray.customers.splice(index, 1);
      loadCustomerData();
    }
  }

  function editCustomer(customerId) {
    const customer = mainArray.customers.find(function (customer) {
      return customer.customerId == customerId;
    });

    if (customer) {
      document.getElementById('exampleInputCustomerId').value = customer.customerId;
      document.getElementById('exampleInputCustomerName').value = customer.customerName;
      document.getElementById('exampleInputCustomerAddress').value = customer.customerAddress;
      document.getElementById('exampleInputCustomerContact').value = customer.customerContact;
      document.getElementById('exampleInputCustomerSalary').value = customer.customerSalary;
    }
  }

  function updateCustomer() {
    const customerId = document.getElementById('exampleInputCustomerId').value;
    const customerName = document.getElementById('exampleInputCustomerName').value;
    const customerAddress = document.getElementById('exampleInputCustomerAddress').value;
    const customerContact = document.getElementById('exampleInputCustomerContact').value;
    const customerSalary = document.getElementById('exampleInputCustomerSalary').value;

    const customer = {
      customerId,
      customerName,
      customerAddress,
      customerContact,
      customerSalary
    };

    const index = mainArray.customers.findIndex(function (customer) {
      return customer.customerId == customerId;
    });

    if (index !== -1) {
      mainArray.customers.splice(index, 1, customer);
      loadCustomerData();
      resetCustomerForm();
    }
  }

  function resetCustomerForm() {
    document.getElementById('exampleInputCustomerId').value = '';
    document.getElementById('exampleInputCustomerName').value = '';
    document.getElementById('exampleInputCustomerAddress').value = '';
    document.getElementById('exampleInputCustomerContact').value = '';
    document.getElementById('exampleInputCustomerSalary').value = '';
  }

  function searchCustomer() {
    const searchValue = document.getElementById('searchCustomer').value.toLowerCase();
    const filteredCustomers = mainArray.customers.filter(function (customer) {
      return (
              customer.customerId.toLowerCase().includes(searchValue) ||
              customer.customerName.toLowerCase().includes(searchValue) ||
              customer.customerAddress.toLowerCase().includes(searchValue) ||
              customer.customerContact.toLowerCase().includes(searchValue)
      );
    });

    const tblBody = document.getElementById('tblCustomers');
    tblBody.innerHTML = '';

    filteredCustomers.forEach(function (customer) {
      const row = document.createElement('tr');
      row.innerHTML = `
          <td>${customer.customerId}</td>
          <td>${customer.customerName}</td>
          <td>${customer.customerAddress}</td>
          <td>${customer.customerContact}</td>
          <td>${customer.customerSalary}</td>
          <td>
            <button class="btn btn-sm btn-danger" onclick="deleteCustomer(${customer.customerId})">Delete</button>
            <button class="btn btn-sm btn-info" onclick="editCustomer(${customer.customerId})">Edit</button>
          </td>
        `;
      tblBody.appendChild(row);
    });
  }

  function loadItemData() {
    const tblBody = document.getElementById('tblItems');
    tblBody.innerHTML = '';
    mainArray.items.forEach(function (item) {
      const row = document.createElement('tr');
      row.innerHTML = `
          <td>${item.itemCode}</td>
          <td>${item.itemName}</td>
          <td>${item.itemPrice}</td>
          <td>${item.itemQuantity}</td>
          <td>
            <button class="btn btn-sm btn-danger" onclick="deleteItem(${item.itemCode})">Delete</button>
            <button class="btn btn-sm btn-info" onclick="editItem(${item.itemCode})">Edit</button>
          </td>
        `;
      tblBody.appendChild(row);
    });
  }

  function addItem() {
    const itemCode = document.getElementById('exampleInputItemCode').value;
    const itemName = document.getElementById('exampleInputItemName').value;
    const itemPrice = document.getElementById('exampleInputItemPrice').value;
    const itemQuantity = document.getElementById('exampleInputItemQuantity').value;

    const item = {
      itemCode,
      itemName,
      itemPrice,
      itemQuantity
    };

    mainArray.items.push(item);
    loadItemData();
    resetItemForm();
  }

  function deleteItem(itemCode) {
    const index = mainArray.items.findIndex(function (item) {
      return item.itemCode == itemCode;
    });

    if (index !== -1) {
      mainArray.items.splice(index, 1);
      loadItemData();
    }
  }

  function editItem(itemCode) {
    const item = mainArray.items.find(function (item) {
      return item.itemCode == itemCode;
    });

    if (item) {
      document.getElementById('exampleInputItemCode').value = item.itemCode;
      document.getElementById('exampleInputItemName').value = item.itemName;
      document.getElementById('exampleInputItemPrice').value = item.itemPrice;
      document.getElementById('exampleInputItemQuantity').value = item.itemQuantity;
    }
  }

  function updateItem() {
    const itemCode = document.getElementById('exampleInputItemCode').value;
    const itemName = document.getElementById('exampleInputItemName').value;
    const itemPrice = document.getElementById('exampleInputItemPrice').value;
    const itemQuantity = document.getElementById('exampleInputItemQuantity').value;

    const item = {
      itemCode,
      itemName,
      itemPrice,
      itemQuantity
    };

    const index = mainArray.items.findIndex(function (item) {
      return item.itemCode == itemCode;
    });

    if (index !== -1) {
      mainArray.items.splice(index, 1, item);
      loadItemData();
      resetItemForm();
    }
  }

  function resetItemForm() {
    document.getElementById('exampleInputItemCode').value = '';
    document.getElementById('exampleInputItemName').value = '';
    document.getElementById('exampleInputItemPrice').value = '';
    document.getElementById('exampleInputItemQuantity').value = '';
  }

  function searchItem() {
    const searchValue = document.getElementById('searchItem').value.toLowerCase();
    const filteredItems = mainArray.items.filter(function (item) {
      return (
              item.itemCode.toLowerCase().includes(searchValue) ||
              item.itemName.toLowerCase().includes(searchValue)
      );
    });

    const tblBody = document.getElementById('tblItems');
    tblBody.innerHTML = '';

    filteredItems.forEach(function (item) {
      const row = document.createElement('tr');
      row.innerHTML = `
          <td>${item.itemCode}</td>
          <td>${item.itemName}</td>
          <td>${item.itemPrice}</td>
          <td>${item.itemQuantity}</td>
          <td>
            <button class="btn btn-sm btn-danger" onclick="deleteItem(${item.itemCode})">Delete</button>
            <button class="btn btn-sm btn-info" onclick="editItem(${item.itemCode})">Edit</button>
          </td>
        `;
      tblBody.appendChild(row);
    });
  }

  function placeOrder() {
    const orderId = document.getElementById('orderId').value;
    const quantity = document.getElementById('quantity').value;
    const date = document.getElementById('date').value;
    const total = document.getElementById('total').value;
    const cash = document.getElementById('cash').value;
    const balance = document.getElementById('balance');

    const order = {
      orderId,
      quantity,
      date,
      total,
      cash,
      balance: cash - total
    };

    balance.value = order.balance;
  }

  const pages = {
    home: `
        <div class="container">
          <h2>Home</h2>
          <div class="row">
            <div class="col-md-6">
              <div class="mb-3">
                <label for="orderId" class="form-label">Order ID</label>
                <input type="text" class="form-control" id="orderId">
              </div>
              <div class="mb-3">
                <label for="quantity" class="form-label">Quantity</label>
                <input type="number" class="form-control" id="quantity">
              </div>
              <div class="mb-3">
                <label for="date" class="form-label">Date</label>
                <input type="date" class="form-control" id="date">
              </div>
              <div class="mb-3">
                <label for="total" class="form-label">Total</label>
                <input type="number" class="form-control" id="total">
              </div>
              <div class="mb-3">
                <label for="cash" class="form-label">Cash</label>
                <input type="number" class="form-control" id="cash">
              </div>
              <div class="mb-3">
                <label for="balance" class="form-label">Balance</label>
                <input type="number" class="form-control" id="balance" disabled>
              </div>
              <button class="btn btn-primary" onclick="placeOrder()">Place Order</button>
            </div>
          </div>
        </div>
      `,
    customer: `
        <div class="container">
          <h2>Customer</h2>
          <div class="mb-3">
            <input type="text" class="form-control" id="searchCustomer" placeholder="Search by ID, Name, Address, or Contact"
              onkeyup="searchCustomer()">
          </div>
          <table class="table">
            <thead>
              <tr>
                <th>Customer ID</th>
                <th>Name</th>
                <th>Address</th>
                <th>Contact</th>
                <th>Salary</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody id="tblCustomers"></tbody>
          </table>
          <h4>Add Customer</h4>
          <div class="mb-3">
            <label for="exampleInputCustomerId" class="form-label">Customer ID</label>
            <input type="text" class="form-control" id="exampleInputCustomerId">
          </div>
          <div class="mb-3">
            <label for="exampleInputCustomerName" class="form-label">Name</label>
            <input type="text" class="form-control" id="exampleInputCustomerName">
          </div>
          <div class="mb-3">
            <label for="exampleInputCustomerAddress" class="form-label">Address</label>
            <input type="text" class="form-control" id="exampleInputCustomerAddress">
          </div>
          <div class="mb-3">
            <label for="exampleInputCustomerContact" class="form-label">Contact</label>
            <input type="text" class="form-control" id="exampleInputCustomerContact">
          </div>
          <div class="mb-3">
            <label for="exampleInputCustomerSalary" class="form-label">Salary</label>
            <input type="number" class="form-control" id="exampleInputCustomerSalary">
          </div>
          <button class="btn btn-primary" onclick="addCustomer()">Add Customer</button>
          <button class="btn btn-secondary" onclick="updateCustomer()">Update Customer</button>
          <button class="btn btn-light" onclick="resetCustomerForm()">Reset</button>
        </div>
      `,
    item: `
        <div class="container">
          <h2>Item</h2>
          <div class="mb-3">
            <input type="text" class="form-control" id="searchItem" placeholder="Search by Code or Name" onkeyup="searchItem()">
          </div>
          <table class="table">
            <thead>
              <tr>
                <th>Item Code</th>
                <th>Name</th>
                <th>Price</th>
                <th>Quantity</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody id="tblItems"></tbody>
          </table>
          <h4>Add Item</h4>
          <div class="mb-3">
            <label for="exampleInputItemCode" class="form-label">Item Code</label>
            <input type="text" class="form-control" id="exampleInputItemCode">
          </div>
          <div class="mb-3">
            <label for="exampleInputItemName" class="form-label">Name</label>
            <input type="text" class="form-control" id="exampleInputItemName">
          </div>
          <div class="mb-3">
            <label for="exampleInputItemPrice" class="form-label">Price</label>
            <input type="number" class="form-control" id="exampleInputItemPrice">
          </div>
          <div class="mb-3">
            <label for="exampleInputItemQuantity" class="form-label">Quantity</label>
            <input type="number" class="form-control" id="exampleInputItemQuantity">
          </div>
          <button class="btn btn-primary" onclick="addItem()">Add Item</button>
          <button class="btn btn-secondary" onclick="updateItem()">Update Item</button>
          <button class="btn btn-light" onclick="resetItemForm()">Reset</button>
        </div>
      `
  };

  showPage('home');
</script>
</body>

</html>
